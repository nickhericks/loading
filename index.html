<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<button class="start-button">Start all</button>
	<button class="stop-button">Stop all</button>

	<!-- <div id="bar-container">
		<em class="bar"></em>
		<em class="bar"></em>
		<em class="bar"></em>
		<em class="bar"></em>
		<em class="bar"></em>
	</div> -->


	<div class="bars">
		<div></div>
		<div></div>
		<div></div>
		<div></div>
		<div></div>
		<div></div>
	</div>


	<script>
		const startButton = document.querySelector(".start-button");
		const stopButton = document.querySelector(".stop-button");
		const bars = Array.from(document.querySelectorAll(".bars div"));

		let isLoading = false;

		
		function loading() {
			isLoading = true;
			console.log(isLoading);

			bars.forEach(bar => {
				bar.classList.add('loading');
			});
		}


		function cancelAll() {
			isLoading = false;
			console.log(isLoading);
			bars.forEach(bar => {
				bar.classList.remove('loading');
			});
		}

		// TODO: Add another event listener to run start and stop when an AJAX request is sent and received.

		// TODO: Think about changing animation from starting and stopping when class is added/removed, and maybe look at using animation-play-state instead???

		startButton.addEventListener('click', loading);
		stopButton.addEventListener("click", cancelAll);


	</script>
</body>
</html>